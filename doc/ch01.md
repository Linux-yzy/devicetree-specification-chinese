<p align = "center"><b>
    Devicetree Specification
</b></p>


<p align = "center">
    <b>
        <a href="ch06.md">上一章</a>
        -
        <a href="../README.md">目录</a>
        -
        <a href="ch02.md">下一章</a>
    </b>
</p>

---

## 1前言

### 1.1目的和应用

为了初始化和启动计算机系统，各种软件组件相互作用。在将控制权传递给operating system、 bootloader或hypervisor等软件之前，固件可能会执行系统硬件的低级初始化。bootloaders、hypervisos可以依次加载并将控制权转移给操作系统，使得在软件之间的交互变的标准化、接口化并且易用。在这个文档中引导程序被用作泛指那些初始化系统状态并加载执行操作系统的程序。引导程序的示例包括：固件、引导加载程序和虚拟机管理程序。客户端程序的示例包括：引导加载程序、虚拟机管理程序、操作系统和专用程序。一个软件可能既是客户端程序又是引导程序（例如虚拟机管理程序）。

这个设备树规范提供了一个完整的boot引导程序到client程序的接口定义和广泛且多样系统开发的最小集合。

这个规范目标是关于嵌入式系统的一些要求。一个典型的嵌入式操作系统主要由硬件、操作系统和个入针对具体任务设计的应用软件组成。这和通用目的的计算机不太一样，通常它是用户通过多种软件和I/O设备定制化设计的。关于嵌入式系统的其他特性可能包含:

该规范针对嵌入式系统的要求。嵌入式系统通常由系统硬件、操作系统和应用软件组成，这些应用软件经过定制设计，用于执行一组固定的特定任务。这与通用计算机不同，通用计算机被设计为由用户使用各种软件和 I/O 设备进行定制。嵌入式系统的其他特征可能包括

- 对于应用高度定制化的IO设备集
- 控制大小/成本的系统板
- 有限的用户接口
- 有限的资源，如内存和非易失存储器
- 实时性的限制
- 一个广而多的操作系统的使用，包含Linux、实时操作系统、定制化和专有操作系统。

**文档的内容组成**

- 第一章: 介绍设备树规范的结构
- 第二章: 介绍设备树概念和描述它的逻辑结构和标准属性
- 第三章: 阐述DTSpec-compliant 设备树要求的设备结点基本集合的定义
- 第四章: 描述某些设备类别和特定设备类型的设备bindings
- 第五章: 设备树的DTB编码
- 第六章: DTS 语法

**文档的约定**

> 略



### 1.2 IEEE™ 1275 和 ePAPR的关系

设备树规范是低依赖于IEEE1275开放固件标准--IEEE Standard for Boot(初始化配置) 固件: Core Requirements and Practices [IEEE1275].

IEEE1275规格书和他的派生CHRP和PAPR是处理通用计算机的地址问题。例如, 他使得一个操作系统的版本能运行在统一系列但物理机不同的计算机上，并且能从用户安装的设备上加载操作系统。

嵌入式系统与通用计算机不同，因为它的天然属性是定制化的。设备树规格中省略的IEEE1275的明显的特征包括:

- Plug-in 设备驱动

- FCode

- 基于Forth(系统)的可编程开放固件用户接口

- 操作系统debugging

IEEE1275中被保留下来的是一个引导程序能描述系统硬件信息并且和系统进行交互。这避免了client 程序使用硬编码描述硬件信息。

这个规范某种意义上取代了ePAPR规范。ePAPR通过Power ISA描述设备书的使用并且包含了如Power ISA bindings的通用概念。这个文档是ePAPR的派生，但同时也移除了架构的具体bindings并把他们放到了附录。



### 1.3 32/64位支持

DTSpec 支持具有 32 位和 64 位寻址功能的 CPU。在适用的情况下，DTSpec 的各部分描述了 32 位和 64 位寻址的任何要求或注意事项。



### 1.4 术语说明

> 略


---

<p align = "center">
    <b>
        <a href="ch06.md">上一章</a>
        -
        <a href="../README.md">目录</a>
        -
        <a href="ch02.md">下一章</a>
    </b>
</p>
